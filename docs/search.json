[{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":null,"dir":"","previous_headings":"","what":"Agent Guide for R Package Development","title":"Agent Guide for R Package Development","text":"document provides comprehensive guidelines agents working R package development projects using Nix, rix, reproducible workflows.","code":""},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"session-initialization-checklist","dir":"","previous_headings":"1. Quick Start for New Sessions","what":"Session Initialization Checklist","title":"Agent Guide for R Package Development","text":"âœ… Environment: Verify â€™re nix shell (caffeinate -~/docs_gh/rix.setup/default.sh) âœ… Context: Read .claude/CURRENT_WORK.md exists âœ… State: Check git status review recent commits âœ… Checkpoint: Review CLAUDE_CHECKPOINT.md session summary files âœ… Packages: Review installed vs.Â potential external R packages (CRAN/GitHub/R-universe) Package Review Protocol: start session, review list installed R packages. Identify potentially useful R packages available (CRAN, r-universe, GitHub) already installed might relevant project objectives (see PLAN*.md GH issues). Highlight pros cons compared installed packages.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_2-key-documentation-references","dir":"","previous_headings":"","what":"2. Key Documentation References","title":"Agent Guide for R Package Development","text":"Core Guides: - Main Context: context_claude.md (document) - 9-Step Workflow: Section 4 (CRITICAL) - Environment QuickRef: NIX_QUICKREF.md (Fixes top 5 issues) Wiki & Detailed Guides: - Gemini CLI Guide: WIKI_CONTENT/Gemini-CLI-Guide.md - Session Continuity: WIKI_CONTENT/Session-Continuity.md - Nix Generation: WIKI_CONTENT/Environment-Sync--Nix-Generation.md - Shinylive Lessons: WIKI_SHINYLIVE_LESSONS_LEARNED.md - Targets & Pkgdown: TARGETS_PKGDOWN_OVERVIEW.md Agents (5 available): - .claude/agents/r-debugger.md - Debug R CMD check/test failures scientific method - .claude/agents/reviewer.md - Code review specialist PRs - .claude/agents/nix-env.md - Diagnose/fix Nix shell environment issues - .claude/agents/targets-runner.md - Run debug targets pipelines - .claude/agents/shinylive-builder.md - Build test Shinylive/WASM vignettes Skills (24 available): Core Workflow: - .claude/skills/architecture-planning/SKILL.md - Step 0: Design validation coding - .claude/skills/writing-plans/SKILL.md - Pre-Step 2: Detailed task breakdown - .claude/skills/executing-plans/SKILL.md - Step 3: Systematic batch execution - .claude/skills/test-driven-development/SKILL.md - Step 3: RED-GREEN-REFACTOR - .claude/skills/verification--completion/SKILL.md - Steps 4,5,7: Evidence claims - .claude/skills/code-review-workflow/SKILL.md - Steps 6-7: PR review process - .claude/skills/r-package-workflow/SKILL.md - Complete 9-step workflow Environment & Tools: - .claude/skills/nix-rix-r-environment/SKILL.md - Reproducible Nix/R environments - .claude/skills/pkgdown-deployment/SKILL.md - Hybrid deployment workflow - .claude/skills/targets-vignettes/SKILL.md - Pre-calculate vignette objects - .claude/skills/shinylive-quarto/SKILL.md - WebAssembly Shiny apps CI/CD & Deployment: - .claude/skills/ci-workflows-github-actions/SKILL.md - GitHub Actions patterns Diagnostics & Analysis: - .claude/skills/systematic-debugging/SKILL.md - Scientific debugging protocol - .claude/skills/project-telemetry/SKILL.md - Logging statistics - .claude/skills/gemini-cli-codebase-analysis/SKILL.md - Large codebase analysis Data & Parallel Processing: - .claude/skills/data-wrangling-duckdb/SKILL.md - SQL files (JSON/CSV/Parquet) - .claude/skills/parallel-processing/SKILL.md - nanonext â†’ mirai â†’ crew stack Statistical Analysis Workflow: - .claude/skills/eda-workflow/SKILL.md - Systematic EDA checklist - .claude/skills/analysis-rationale-logging/SKILL.md - Document decisions made - .claude/skills/ai-assisted-analysis/SKILL.md - LLM collaboration human validation - .claude/skills/tidyverse-style/SKILL.md - Package recommendations style guide Claude Code Features: - .claude/skills/hooks-automation/SKILL.md - Pre/post tool execution hooks - .claude/skills/mcp-servers/SKILL.md - MCP server integration (r-btw, browser) - .claude/skills/context-control/SKILL.md - Context management (/compact, /clear, checkpoints)","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_2a-agents-vs-skills","dir":"","previous_headings":"","what":"2a. Agents vs Skills","title":"Agent Guide for R Package Development","text":"Skills = Context/instructions loaded main Claude session Agents = Isolated subagents restricted tools specific tasks Invoke agents: Custom Commands (5 available): - /session-start - Initialize session (nix check, git status, open issues) - /session-end - End session (commit, update CURRENT_WORK.md, push) - /check - Run devtools::document(), test(), check() - /pr-status - Check PR CI workflow status - /new-issue - Create issue + branch + log file","code":"# In Claude Code \"Use the r-debugger agent to investigate this test failure\" \"Use the reviewer agent to review PR #123\""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_3-critical-workflow-principles","dir":"","previous_headings":"","what":"3. Critical Workflow Principles","title":"Agent Guide for R Package Development","text":"NEVER use bash git/gh commands - Always use R packages: - âœ… gert::git_add(), gert::git_commit(), gert::git_push() - âœ… usethis::pr_init(), usethis::pr_push(), usethis::pr_merge_main() - âœ… gh::gh(\"POST /repos/...\") GitHub API ALWAYS log commands - reproducibility: - Create R/dev/issue/fix_issue_123.R files documenting R commands - Include log files PR, merge (prevents duplicate CI/CD runs) ALWAYS work Nix environment: - Use ONE persistent shell per session - Donâ€™t launch new shells individual commands - See NIX_TROUBLESHOOTING.md environment degradation issues ALWAYS View Results via GitHub Pages: - viewing results must ultimately deployed GitHub Pages website. - Supply URLs pointing various output webpages (vignettes, dashboards, etc.). EXECUTE R COMMANDS CLEANLY: - executing R commands shell, prefer Rscript R --quiet ---save avoid boilerplate startup messages. - âœ… Rscript -e 'some_command()' - âœ… R --quiet ---save -e 'some_command()' - âŒ R -e 'some_command()' (due verbose startup) README Example Standard: - Include Nix-shell example works without R CMD INSTALL, e.g.Â devtools::load_all(\"pkg\"). - Provide explicit R_LIBS_USER example using custom library path.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_4-the-9-step-mandatory-workflow","dir":"","previous_headings":"","what":"4. The 9-Step Mandatory Workflow","title":"Agent Guide for R Package Development","text":"âš ï¸ CRITICAL: OPTIONAL - CHANGES MUST FOLLOW WORKFLOW âš ï¸ EXCEPTIONS. SHORTCUTS. â€œSIMPLE FIXESâ€. Key Skill Integration: - Step 0: Use architecture-planning validate design, writing-plans create bite-sized tasks - Step 3: Use test-driven-development (write test first!) executing-plans systematic progress - Steps 4,5,7: Use verification--completion - claims without fresh evidence - Steps 6-7: Use code-review-workflow PRs handling feedback Step Details: ğŸ“ Create GitHub Issue: Use gh package GitHub website. ğŸŒ¿ Create Development Branch: usethis::pr_init(\"fix-issue-123-description\"). âœï¸ Make Changes: Edit code dev branch. Commit using gert (bash). âœ… Run Checks: devtools::document(), test(), check(), pkgdown::build_site(). Fix errors/notes. Run: ../push_to_cachix.sh (nix-store ... | cachix push johngavin) ? GitHub Actions pulls cachix. Saves time/resources. Ensures consistency. ğŸš€ Push Remote: usethis::pr_push() (cachix push succeeds). â³ Wait GitHub Actions: Monitor workflows. must pass. ğŸ”€ Merge via PR: usethis::pr_merge_main(), usethis::pr_finish(). ğŸ“‹ Log Everything: Ensure session log (e.g., R/dev/issue/fix_issue_123.R) included PR. Consequences Skipping: commit directly main skip steps, must create retrospective issue log file explaining violation. Forbidden Commands: âŒ git add ., git commit, git push âŒ gh pr create, gh issue create One-time Setup: Run usethis::git_vaccinate() add common temp files global .gitignore.","code":"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ 0. Design & Plan                                              â”‚ â”‚    â””â”€â†’ architecture-planning skill                            â”‚ â”‚    â””â”€â†’ writing-plans skill                                    â”‚ â”‚                                                                â”‚ â”‚ 1. Create GitHub Issue (#123)                                 â”‚ â”‚ 2. Create dev branch (usethis::pr_init())                     â”‚ â”‚ 3. Make changes locally                                       â”‚ â”‚    â””â”€â†’ executing-plans skill (batch execution)                â”‚ â”‚    â””â”€â†’ test-driven-development skill (RED-GREEN-REFACTOR)     â”‚ â”‚                                                                â”‚ â”‚ 4. Run all checks (devtools::check(), etc.)                   â”‚ â”‚    â””â”€â†’ verification-before-completion skill                   â”‚ â”‚                                                                â”‚ â”‚ 5. âš ï¸ MANDATORY: Push to johngavin cachix âš ï¸                   â”‚ â”‚    â””â”€â†’ nix-store ... | cachix push johngavin                  â”‚ â”‚    â””â”€â†’ verification-before-completion skill                   â”‚ â”‚                                                                â”‚ â”‚ 6. Push to GitHub (usethis::pr_push())                        â”‚ â”‚    â””â”€â†’ code-review-workflow skill                             â”‚ â”‚                                                                â”‚ â”‚ 7. Wait for GitHub Actions (pulls from cachix - fast!)        â”‚ â”‚    â””â”€â†’ verification-before-completion skill                   â”‚ â”‚    â””â”€â†’ code-review-workflow skill (handle feedback)           â”‚ â”‚                                                                â”‚ â”‚ 8. Merge PR (usethis::pr_merge_main())                        â”‚ â”‚ 9. Log everything (R/dev/issue/fix_issue_123.R)               â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_5-nix-environment-management","dir":"","previous_headings":"","what":"5. Nix Environment Management","title":"Agent Guide for R Package Development","text":"Detailed Guide: NIX_PACKAGE_DEVELOPMENT.md Quick Reference: NIX_QUICKREF.md Quick Verification: ALWAYS verify â€™re running inside nix shell: failed: exit re-run caffeinate -~/docs_gh/rix.setup/default.sh. Generating Nix Files: use 3-file strategy (package.nix, default.nix, packages.R) managed R/dev/nix/maintain_env.R. See WIKI_CONTENT/Environment-Sync--Nix-Generation.md details. update environment:","code":"echo $IN_NIX_SHELL  # Should be 1 or impure which R             # Should be /nix/store/... source(\"R/dev/nix/maintain_env.R\") maintain_env()"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_6-session-continuity","dir":"","previous_headings":"","what":"6. Session Continuity","title":"Agent Guide for R Package Development","text":"Full Guide: WIKI_CONTENT/Session-Continuity.md Key Principles: - Document Everything: Update .claude/CURRENT_WORK.md every 2-3 hours. - Git Checkpoints: Commit â€œWIPâ€ often. Use git stash needed. - Restart Clean: Session history persist. Rely files logs. End--Session Checklist: 1. Commit/Stash work (gert). 2. Update .claude/CURRENT_WORK.md. 3. Push remote. 4. Exit.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_7-r-code-standards","dir":"","previous_headings":"","what":"7. R Code Standards","title":"Agent Guide for R Package Development","text":"Organization: - Organize code R package. - Prepare R-Universe/CRAN submission. Style & Docs: - Use usethis::document() test(). - Use logger package comments/logs. - Prefer tidyverse. - Use air formatting (air format ...). - Use typst formulas.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_7a-tool-preferences","dir":"","previous_headings":"","what":"7a. Tool Preferences","title":"Agent Guide for R Package Development","text":"Parallel Processing Stack (prefer order): nanonext: Low-level async sockets (NNG bindings) - use custom protocols mirai: Async evaluation built nanonext - use simple parallel tasks crew: Worker pools built mirai - use targets pipeline parallelism targets + crew: Production pipelines tar_option_set(controller = crew_controller_local()) Data Wrangling Stack (prefer base R): DuckDB Use Cases: - RSS feed wrangling: read_json_auto() feed parsing - Shell command output: shellfs extension CLI â†’ SQL - Log analysis: Query CSV/JSON/Parquet without loading R - Cross-format joins: Join CSV Parquet JSON one query Arrow Large Data: Decision Matrix: File Structure: - R/: Package code. - R/dev/ subfolder topic e.g.Â  - R/dev/logs/ log scripts. - R/dev/bugs/: bug fix scripts. - R/dev/issues/: fix issue scripts. - R/dev/features/: new feature scripts etc - R/tar_plans/: Targets plans. - vignettes/: Source Quarto files (README, vignettes). - inst/logs/: Session logs.","code":"nanonext â†’ mirai â†’ crew â†’ targets    â†“         â†“       â†“        â†“  sockets   async   workers  pipelines # âœ… PREFERRED: duckdb for data wrangling library(duckdb) library(dplyr) library(dbplyr)  con <- dbConnect(duckdb())  # Read JSON from API, process with SQL result <- con |>   tbl(sql(\"SELECT * FROM read_json_auto('data.json')\")) |>   filter(status == \"active\") |>   collect()  # Query Parquet files directly tbl(con, sql(\"SELECT * FROM 'data/*.parquet'\")) |>   summarise(n = n())  # âŒ AVOID: Traditional ETL pipelines when duckdb can handle directly library(arrow) # Use Arrow for: # - Data larger than memory # - Parquet/Feather file I/O # - Zero-copy data sharing with Python (via reticulate)"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_8-targets-package","dir":"","previous_headings":"","what":"8. Targets Package","title":"Agent Guide for R Package Development","text":"Pre-calculation: Use targets precalculate vignette objects. Vignettes: rely targets::read() targets::load(). Minimize computation .qmd.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_9-website-pkgdown--documentation","dir":"","previous_headings":"","what":"9. Website (pkgdown) & Documentation","title":"Agent Guide for R Package Development","text":"Standards: - Build site pkgdown. - Hybrid Workflow: - Use Nix R CMD Check & Unit Tests. - Use Native R pkgdown + Quarto (due bslib incompatibility). - See TARGETS_PKGDOWN_OVERVIEW.md. - Code Visibility: Hidden default, toggleable. Infographics: - Create major versions explaining package functionality. - Embed README via targets.","code":""},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"shinylive--dashboards","dir":"","previous_headings":"10. Special Topics","what":"Shinylive & Dashboards","title":"Agent Guide for R Package Development","text":"Guide: WIKI_SHINYLIVE_LESSONS_LEARNED.md - Use resources: - shinylive-sw.js YAML. - Prefer library() calls webr::install() custom repos. - Avoid webr::mount() GitHub Releases (CORS issues). âš ï¸ MANDATORY Browser Testing: committing Shinylive vignettes: 1. Open built HTML browser, wait app load (10-30s) 2. Open DevTools (F12) â†’ Console tab 3. Check errors (404s, WASM failures, Service Worker issues) 4. PROCEED console errors appear See wiki detailed checklist.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"version-bumping","dir":"","previous_headings":"10. Special Topics","what":"Version Bumping","title":"Agent Guide for R Package Development","text":"Always bump version making changes: usethis::use_version(\"patch\"|\"minor\"|\"major\") - patch: Bug fixes (2.0.0 â†’ 2.0.1) - minor: New features (2.0.1 â†’ 2.1.0) - major: Breaking changes (2.1.0 â†’ 3.0.0)","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"github-api-via-cli","dir":"","previous_headings":"10. Special Topics","what":"GitHub API via CLI","title":"Agent Guide for R Package Development","text":"Always query API ground truth (donâ€™t trust old docs).","code":"export GH_TOKEN=$GITHUB_PAT gh issue list --state open --json number,title gh pr view 123 --json state,mergeable"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"gemini-cli-for-large-codebases","dir":"","previous_headings":"10. Special Topics","what":"Gemini CLI for Large Codebases","title":"Agent Guide for R Package Development","text":"Guide: WIKI_CONTENT/Gemini-CLI-Guide.md - Use gemini -p large context analysis. - Use @path syntax include files/directories.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"telemetry","dir":"","previous_headings":"10. Special Topics","what":"Telemetry","title":"Agent Guide for R Package Development","text":"Create telemetry.qmd vignette. Visualize targets pipeline (tar_viznetwork). Track compilation time, memory, git history.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"code-coverage-in-nix","dir":"","previous_headings":"10. Special Topics","what":"Code Coverage in Nix","title":"Agent Guide for R Package Development","text":"Guide: WIKI_CONTENT/Code_Coverage_with_Nix.md covr::package_coverage() fails Nix â€œerror reading connectionâ€. Solution: automated CI workflow. works: 1. .github/workflows/coverage.yaml runs push main (R/ tests/ change) 2. Uses standard R (r-lib/actions/setup-r), Nix 3. Generates coverage commits inst/extdata/coverage.rds back repo 4. Telemetry vignette loads cached coverage via readRDS() manual action required - coverage updates automatically code changes. add new project: 1. Copy .github/workflows/coverage.yaml randomwalk 2. Add inst/extdata/ .gitignore exceptions 3. Update telemetry vignette load inst/extdata/coverage.rds","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"isolated-shell","dir":"","previous_headings":"10. Special Topics","what":"Isolated Shell","title":"Agent Guide for R Package Development","text":"LLMs run --pure nix shell/container security. Limit write access.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_11-documentation-maintenance--cleanup","dir":"","previous_headings":"","what":"11. Documentation Maintenance & Cleanup","title":"Agent Guide for R Package Development","text":"Consider reducing number *.md files ./R/dev/<topic> merging files merging duplicated topics produce fewer, detailed markdown files. Summarise themes, topics, contents similarity. Suggest parts might better migrated wiki page topic theme GitHub repository FAQs wiki page. Raise GitHub issues outstanding issues, todos, features identified cleanup. Documentation Rationalization: overall documentation consolidation rationalization effort tracked Docs: Rationalize Consolidate Project Documentation. Detailed documentation migrated Project Wiki. effort aims reduce duplication, move detailed technical content GitHub Wiki, convert actionable plans discrete GitHub issues.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_12-session-start-protocol","dir":"","previous_headings":"","what":"12. Session Start Protocol","title":"Agent Guide for R Package Development","text":"Review ./*.md files next steps, todos, issues, bugs, new features. Review open GitHub issues. Group issues/items similarity. Order difficulty, placing easiest first within group groups.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/AGENTS.html","id":"id_13-vignette-requirements","dir":"","previous_headings":"","what":"13. Vignette Requirements","title":"Agent Guide for R Package Development","text":"Session Info: Always include sessionInfo() bottom vignette (.qmd file) aid reproducibility debugging. Ditto github hash sha version vignette.","code":"## Session Info  ```{r session-info} sessionInfo()"},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"document outlines reproducible analysis plan MMRF CoMMpass (Clinical Outcomes MM Personal Assessment Genetic Profile) study data. CoMMpass study landmark longitudinal genomic-clinical study 1,143 newly diagnosed multiple myeloma patients collected 2011-2016 8-year follow-.","code":""},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"can-non-medical-users-access-commpass-data","dir":"","previous_headings":"Data Access for Non-Medical/Individual Researchers","what":"Can Non-Medical Users Access CoMMpass Data?","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"Yes, caveats. data multiple access tiers:","code":""},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"option-1-aws-open-data-easiest---no-account-required","dir":"","previous_headings":"Data Access for Non-Medical/Individual Researchers > Practical Access Options for Individual Developers","what":"Option 1: AWS Open Data (Easiest - No Account Required)","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"Bucket: s3://gdc-mmrf-commpass-phs000748-2-open Region: us-east-1 Contents: RNA-seq gene expression quantification License: NIH Genomic Data Sharing Policy","code":"# List available files (no AWS account needed) aws s3 ls --no-sign-request s3://gdc-mmrf-commpass-phs000748-2-open/  # Download RNA-seq data directly aws s3 cp --no-sign-request \\   s3://gdc-mmrf-commpass-phs000748-2-open/path/to/file.tsv \\   ./data/"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"option-2-mmrf-researcher-gateway-free-registration","dir":"","previous_headings":"Data Access for Non-Medical/Individual Researchers > Practical Access Options for Individual Developers","what":"Option 2: MMRF Researcher Gateway (Free Registration)","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"Register research.themmrf.org Email rogersj@themmrf.org request access Download tab-delimited clinical/genomic datasets Publication requirement: Acknowledge MMRF, 30-day notice publication","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"option-3-dbgap-controlled-access-academic-only","dir":"","previous_headings":"Data Access for Non-Medical/Individual Researchers > Practical Access Options for Individual Developers","what":"Option 3: dbGaP Controlled Access (Academic Only)","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"Required raw sequences (FASTQ, BAM) individual-level protected data: Study accession: phs000748 Requires: NIH eRA Commons account, institutional affiliation Security: NIST SP 800-171 compliant systems suitable individual/hobby projects","code":""},{"path":[]},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"key-findings-already-established","dir":"","previous_headings":"Primary Data Portals","what":"Key Findings Already Established","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"12 expression subtypes multiple myeloma identified via RNA-seq clustering Immune cell atlas revealing immunosenescence rapid relapse patients Actionable DNA alterations mapped expression subtypes","code":""},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"mmrfbiolinks-status-ï¸-maintenance-concern","dir":"","previous_headings":"R Package Options for Data Access","what":"MMRFBiolinks Status (âš ï¸ Maintenance Concern)","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"MMRFBiolinks package: - Last active development: ~2021 - Issues: 7 open issues, recent responses - CI/CD: Uses deprecated Travis CI - Status: Functional unmaintained Recommendation: Use reference prefer alternatives new projects.","code":""},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"modern-data-access-approach-recommended","dir":"","previous_headings":"R Package Options for Data Access","what":"Modern Data Access Approach (Recommended)","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# Option A: TCGAbiolinks (actively maintained) library(TCGAbiolinks)  query <- GDCquery(   project = \"MMRF-COMMPASS\",   data.category = \"Transcriptome Profiling\",   data.type = \"Gene Expression Quantification\",   workflow.type = \"STAR - Counts\" ) GDCdownload(query) data <- GDCprepare(query)  # Option B: GenomicDataCommons (lower-level, more control) library(GenomicDataCommons)  # List available projects projects() |>   filter(project_id == \"MMRF-COMMPASS\") |>   results()  # Query files files() |>   filter(cases.project.project_id == \"MMRF-COMMPASS\") |>   filter(data_type == \"Gene Expression Quantification\") |>   results()  # Option C: Direct AWS S3 (fastest for bulk downloads) library(aws.s3)  # List bucket contents bucket_contents <- get_bucket_df(   bucket = \"gdc-mmrf-commpass-phs000748-2-open\",   region = \"us-east-1\",   use_https = TRUE )  # Download specific file save_object(   object = \"path/to/file.tsv\",   bucket = \"gdc-mmrf-commpass-phs000748-2-open\",   file = \"local_data.tsv\",   region = \"us-east-1\" )"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"clinical-data-access-without-mmrfbiolinks","dir":"","previous_headings":"R Package Options for Data Access","what":"Clinical Data Access (Without MMRFBiolinks)","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"clinical data, use direct GDC API MMRF Researcher Gateway downloads:","code":"library(TCGAbiolinks)  # Get clinical data directly from GDC clinical <- GDCquery_clinic(project = \"MMRF-COMMPASS\", type = \"clinical\")  # Or download as biospecimen biospec <- GDCquery_clinic(project = \"MMRF-COMMPASS\", type = \"biospecimen\")"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"analysis-workflow-architecture","dir":"","previous_headings":"","what":"Analysis Workflow Architecture","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                        DATA ACQUISITION                                  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚  â”‚ GDC Portal  â”‚    â”‚ MMRF-RG     â”‚    â”‚ AWS S3      â”‚                 â”‚ â”‚  â”‚ (genomics)  â”‚    â”‚ (clinical)  â”‚    â”‚ (bulk)      â”‚                 â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚         â”‚                  â”‚                  â”‚                         â”‚ â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚                            â–¼                                            â”‚ â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚ â”‚              â”‚    MMRFBiolinks /       â”‚                               â”‚ â”‚              â”‚    TCGAbiolinks         â”‚                               â”‚ â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                        BULK RNA-seq ANALYSIS                            â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚  â”‚ DESeq2      â”‚    â”‚ edgeR       â”‚    â”‚ limma-voom  â”‚                 â”‚ â”‚  â”‚ (DE genes)  â”‚    â”‚ (TMM norm)  â”‚    â”‚ (robust)    â”‚                 â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚                            â–¼                                            â”‚ â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚ â”‚              â”‚   Consensus DE genes    â”‚                               â”‚ â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                      SINGLE-CELL ANALYSIS                               â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚  â”‚ Seurat      â”‚    â”‚ inferCNV/   â”‚    â”‚ Monocle     â”‚                 â”‚ â”‚  â”‚ (QC/cluster)â”‚    â”‚ CopyKat     â”‚    â”‚ (trajectory)â”‚                 â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚                            â–¼                                            â”‚ â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚ â”‚              â”‚   Cell type annotation  â”‚                               â”‚ â”‚              â”‚   (SingleR/CellTypist)  â”‚                               â”‚ â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                      SURVIVAL ANALYSIS                                  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚  â”‚ survival    â”‚    â”‚ survminer   â”‚    â”‚ coxph       â”‚                 â”‚ â”‚  â”‚ (Surv obj)  â”‚    â”‚ (KM plots)  â”‚    â”‚ (Cox reg)   â”‚                 â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚ â”‚                            â–¼                                            â”‚ â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚ â”‚              â”‚  Prognostic signatures  â”‚                               â”‚ â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                    PATHWAY & INTEGRATION                                â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚  â”‚clusterProf. â”‚    â”‚ GSEA        â”‚    â”‚ ComplexHeat â”‚                 â”‚ â”‚  â”‚ (enrichment)â”‚    â”‚ (gene sets) â”‚    â”‚ (heatmaps)  â”‚                 â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"core-data-access--infrastructure","dir":"","previous_headings":"R Package Requirements for rix","what":"Core Data Access & Infrastructure","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# Data access packages pkgs_data_access <- c(   \"TCGAbiolinks\",        # GDC data access (Bioconductor)   \"GenomicDataCommons\",  # Direct GDC API access (Bioconductor)   \"aws.s3\"               # AWS S3 access for CoMMpass )  # GitHub packages (install via rix git_pkgs) git_pkgs_data_access <- list(   list(     package_name = \"MMRFBiolinks\",     repo_url = \"https://github.com/marziasettino/MMRFBiolinks\",     commit = \"HEAD\"  # Pin to specific commit for reproducibility   ) )"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"bioconductor-packages","dir":"","previous_headings":"R Package Requirements for rix","what":"Bioconductor Packages","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# Core Bioconductor infrastructure pkgs_bioc_core <- c(   \"SummarizedExperiment\",   # Data container for genomics   \"GenomicRanges\",          # Genomic intervals   \"Biostrings\",             # Biological sequences   \"rtracklayer\",            # Import/export genome tracks   \"AnnotationDbi\",          # Annotation databases   \"org.Hs.eg.db\",           # Human gene annotations   \"TxDb.Hsapiens.UCSC.hg38.knownGene\"  # Transcript annotations )  # Differential expression pkgs_bioc_de <- c(   \"DESeq2\",                 # DE analysis (negative binomial)   \"edgeR\",                  # DE analysis (negative binomial + TMM)   \"limma\"                   # DE analysis (linear models + voom) )  # Single-cell analysis pkgs_bioc_sc <- c(   \"SingleCellExperiment\",   # scRNA-seq data container   \"scran\",                  # scRNA-seq normalization   \"scater\",                 # scRNA-seq QC & visualization   \"DropletUtils\",           # 10X data processing   \"SingleR\",                # Automated cell type annotation   \"celldex\",                # Reference datasets for SingleR   \"batchelor\",              # Batch correction   \"infercnv\"                # CNV inference from scRNA-seq )  # Pathway analysis pkgs_bioc_pathway <- c(   \"clusterProfiler\",        # GO/KEGG enrichment   \"enrichplot\",             # Enrichment visualization   \"fgsea\",                  # Fast GSEA   \"msigdbr\",                # MSigDB gene sets   \"DOSE\",                   # Disease Ontology   \"ReactomePA\"              # Reactome pathways )"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"cran-packages","dir":"","previous_headings":"R Package Requirements for rix","what":"CRAN Packages","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# Survival analysis pkgs_survival <- c(   \"survival\",               # Core survival analysis   \"survminer\",              # KM plot visualization   \"survivalAnalysis\",       # High-level survival interface   \"timeROC\",                # Time-dependent ROC   \"pec\",                    # Prediction error curves   \"riskRegression\"          # Risk prediction )  # Single-cell (CRAN) pkgs_sc_cran <- c(   \"Seurat\",                 # Primary scRNA-seq toolkit   \"SeuratObject\",           # Seurat data structures   \"sctransform\",            # Variance stabilization   \"harmony\",                # Batch correction   \"clustree\",               # Clustering tree visualization   \"monocle3\"                # Trajectory analysis (via GitHub) )  # Data wrangling & visualization pkgs_tidyverse <- c(   \"tidyverse\",              # Core tidyverse    \"data.table\",             # Fast data manipulation   \"dtplyr\",                 # data.table backend for dplyr   \"arrow\",                  # Parquet/Arrow support   \"janitor\",                # Data cleaning   \"skimr\"                   # Data summaries )  # Visualization pkgs_viz <- c(   \"ComplexHeatmap\",         # Advanced heatmaps (Bioconductor)   \"circlize\",               # Circular plots   \"ggrepel\",                # Label repulsion   \"ggpubr\",                 # Publication-ready plots   \"patchwork\",              # Plot composition   \"viridis\",                # Color scales   \"RColorBrewer\",           # Color palettes   \"pheatmap\",               # Heatmaps   \"cowplot\"                 # Plot arrangement )  # Reporting pkgs_reporting <- c(   \"knitr\",                  # Literate programming   \"rmarkdown\",              # R Markdown   \"DT\",                     # Interactive tables   \"gt\",                     # Publication tables   \"flextable\"               # Flexible tables )"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"github-packages-via-rix-git_pkgs","dir":"","previous_headings":"R Package Requirements for rix","what":"GitHub Packages (via rix git_pkgs)","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"git_pkgs <- list(   list(     package_name = \"MMRFBiolinks\",     repo_url = \"https://github.com/marziasettino/MMRFBiolinks\",     commit = \"HEAD\"   ),   list(     package_name = \"CopyKat\",     repo_url = \"https://github.com/navinlabcode/copykat\",     commit = \"HEAD\"   ),   list(     package_name = \"monocle3\",     repo_url = \"https://github.com/cole-trapnell-lab/monocle3\",     commit = \"HEAD\"   ),   list(     package_name = \"SCENIC\",     repo_url = \"https://github.com/aertslab/SCENIC\",     commit = \"HEAD\"   ) )"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"complete-rix-configuration","dir":"","previous_headings":"","what":"Complete rix Configuration","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# R/dev/nix/packages.R  # ============================================================================ # CoMMpass Multiple Myeloma Analysis Environment # ============================================================================  # CRAN packages cran_packages <- c(   # Survival analysis   \"survival\", \"survminer\", \"survivalAnalysis\", \"timeROC\", \"pec\",   \"riskRegression\",    # Single-cell (CRAN)   \"Seurat\", \"SeuratObject\", \"sctransform\", \"harmony\", \"clustree\",    # Data wrangling   \"tidyverse\", \"data.table\", \"dtplyr\", \"arrow\", \"janitor\", \"skimr\",    # Visualization   \"circlize\", \"ggrepel\", \"ggpubr\", \"patchwork\", \"viridis\",   \"RColorBrewer\", \"pheatmap\", \"cowplot\",   # Reporting   \"knitr\", \"rmarkdown\", \"DT\", \"gt\", \"flextable\",    # Utilities   \"devtools\", \"remotes\", \"BiocManager\", \"here\", \"fs\", \"glue\",   \"logger\", \"tictoc\", \"progressr\", \"future\", \"furrr\",    # AWS access   \"aws.s3\", \"aws.signature\" )  # Bioconductor packages bioc_packages <- c(   # Core infrastructure   \"SummarizedExperiment\", \"GenomicRanges\", \"Biostrings\", \"rtracklayer\",   \"AnnotationDbi\", \"org.Hs.eg.db\", \"TxDb.Hsapiens.UCSC.hg38.knownGene\",    # Data access   \"TCGAbiolinks\", \"GenomicDataCommons\",    # Differential expression   \"DESeq2\", \"edgeR\", \"limma\",    # Single-cell   \"SingleCellExperiment\", \"scran\", \"scater\", \"DropletUtils\",   \"SingleR\", \"celldex\", \"batchelor\", \"infercnv\",    # Pathway analysis   \"clusterProfiler\", \"enrichplot\", \"fgsea\", \"msigdbr\",   \"DOSE\", \"ReactomePA\", \"ComplexHeatmap\" )  # GitHub packages git_packages <- list(   list(     package_name = \"MMRFBiolinks\",     repo_url = \"https://github.com/marziasettino/MMRFBiolinks\",     commit = \"HEAD\"   ),   list(     package_name = \"copykat\",     repo_url = \"https://github.com/navinlabcode/copykat\",     commit = \"HEAD\"   ) )  # System dependencies (for Nix) system_deps <- c(   \"jags\",           # Required for infercnv   \"hdf5\",           # Required for single-cell data   \"gsl\",            # Required for some Bioc packages   \"libxml2\",        # Required for XML parsing   \"curl\",           # Required for data downloads   \"openssl\"         # Required for secure connections )"},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"module-1-data-acquisition","dir":"","previous_headings":"Analysis Modules","what":"Module 1: Data Acquisition","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# Example: Download RNA-seq data from GDC library(MMRFBiolinks) library(TCGAbiolinks)  # Query MMRF-COMMPASS project query <- GDCquery(   project = \"MMRF-COMMPASS\",   data.category = \"Transcriptome Profiling\",   data.type = \"Gene Expression Quantification\",   workflow.type = \"STAR - Counts\" )  # Download and prepare GDCdownload(query) data <- GDCprepare(query)  # Access clinical data via MMRF-RG clinical <- clinMMGateway()  # From MMRFBiolinks"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"module-2-differential-expression","dir":"","previous_headings":"Analysis Modules","what":"Module 2: Differential Expression","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# DESeq2 workflow library(DESeq2)  dds <- DESeqDataSetFromMatrix(   countData = counts,   colData = clinical,   design = ~ treatment_response ) dds <- DESeq(dds) res <- results(dds, contrast = c(\"treatment_response\", \"responder\", \"non_responder\"))"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"module-3-survival-analysis","dir":"","previous_headings":"Analysis Modules","what":"Module 3: Survival Analysis","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# Kaplan-Meier and Cox regression library(survival) library(survminer)  # Fit survival model fit <- survfit(Surv(time, status) ~ risk_group, data = clinical)  # Kaplan-Meier plot ggsurvplot(fit,            data = clinical,            risk.table = TRUE,            pval = TRUE,            conf.int = TRUE)  # Cox proportional hazards cox_model <- coxph(Surv(time, status) ~ age + stage + gene_signature,                    data = clinical)"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"module-4-single-cell-analysis","dir":"","previous_headings":"Analysis Modules","what":"Module 4: Single-Cell Analysis","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"# Seurat workflow for Mount Sinai atlas data library(Seurat)  # Create Seurat object seurat_obj <- CreateSeuratObject(counts = sc_counts,                                   meta.data = sc_meta)  # Standard workflow seurat_obj <- seurat_obj %>%   NormalizeData() %>%   FindVariableFeatures() %>%   ScaleData() %>%   RunPCA() %>%   FindNeighbors(dims = 1:30) %>%   FindClusters(resolution = 0.5) %>%   RunUMAP(dims = 1:30)  # Cell type annotation library(SingleR) ref <- celldex::HumanPrimaryCellAtlasData() predictions <- SingleR(seurat_obj, ref = ref, labels = ref$label.main)"},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"papers--documentation","dir":"","previous_headings":"Key References","what":"Papers & Documentation","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"MMRFBiolinks Paper (Briefings Bioinformatics 2021) Mount Sinai Immune Cell Atlas (Nature Cancer 2026) Using MMRFBiolinks Prognostic Markers (Methods Mol Biol 2022) MMRF Research Programs IMS 2025 Summary","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"data-portals","dir":"","previous_headings":"Key References","what":"Data Portals","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"GDC Data Portal - MMRF-COMMPASS (995 cases, 34,109 files) AWS Open Data Registry MMRF Researcher Gateway","code":""},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"tutorials","dir":"","previous_headings":"Key References","what":"Tutorials","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"Survival Analysis R Tutorial","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"next-steps","dir":"","previous_headings":"","what":"Next Steps","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"Register MMRF Researcher Gateway access Apply GDC controlled access (dbGaP) needed Generate Nix environment rix::rix() Create targets pipeline reproducible workflow Develop Shinylive dashboard results exploration","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/PLAN_CoMMpass_Analysis.html","id":"file-organization","dir":"","previous_headings":"","what":"File Organization","title":"CoMMpass Multiple Myeloma Analysis Plan","text":"","code":"proj/data/coMMpass/ â”œâ”€â”€ README.md                    # Project overview and usage â”œâ”€â”€ PLAN_CoMMpass_Analysis.md    # This document â”œâ”€â”€ default.sh                   # Nix environment setup script â”œâ”€â”€ default.R                    # rix configuration â”œâ”€â”€ default_dev.nix              # Generated Nix environment â”œâ”€â”€ R/ â”‚   â”œâ”€â”€ dev/nix/ â”‚   â”‚   â””â”€â”€ packages.R           # Package definitions for rix â”‚   â”œâ”€â”€ 01_data_acquisition.R â”‚   â”œâ”€â”€ 02_quality_control.R â”‚   â”œâ”€â”€ 03_differential_expression.R â”‚   â”œâ”€â”€ 04_survival_analysis.R â”‚   â”œâ”€â”€ 05_single_cell.R â”‚   â””â”€â”€ 06_pathway_analysis.R â”œâ”€â”€ _targets.R                   # Targets pipeline â”œâ”€â”€ vignettes/ â”‚   â”œâ”€â”€ 01_overview.qmd â”‚   â”œâ”€â”€ 02_bulk_rnaseq.qmd â”‚   â”œâ”€â”€ 03_single_cell.qmd â”‚   â””â”€â”€ 04_survival.qmd â””â”€â”€ data/     â”œâ”€â”€ raw/                     # Downloaded from GDC/MMRF-RG     â”œâ”€â”€ processed/               # Cleaned/normalized     â””â”€â”€ results/                 # Analysis outputs"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/articles/01_data_acquisition.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"01. Data Acquisition & Status","text":"report summarizes initial data acquisition step MMRF CoMMpass study. access Open Access RNA-seq data GDC S3 bucket (s3://gdc-mmrf-commpass-phs000748-2-open/).","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/articles/01_data_acquisition.html","id":"s3-bucket-status","dir":"Articles","previous_headings":"","what":"S3 Bucket Status","title":"01. Data Acquisition & Status","text":"query S3 bucket get complete manifest available files.","code":"# Load the manifest from the targets pipeline manifest_lines <- tar_read(s3_manifest)  # Parse the ls output # Format: \"2022-05-11 10:23:45 123456 filename\" manifest_df <- tibble(line = manifest_lines) %>%   mutate(     date = str_extract(line, \"^\\\\d{4}-\\\\d{2}-\\\\d{2}\"),     time = str_extract(line, \"\\\\d{2}:\\\\d{2}:\\\\d{2}\"),     size = as.numeric(str_extract(line, \"(?<=\\\\s)\\\\d+(?=\\\\s)\")),     file = str_extract(line, \"[^\\\\s]+$\")   ) %>%   filter(!is.na(size))  cat(\"Total files in S3 bucket:\", nrow(manifest_df), \"\\n\") #> Total files in S3 bucket: 8580 cat(\"Total size:\", format(sum(manifest_df$size, na.rm=TRUE), units=\"auto\"), \"\\n\") #> Total size: 5000877192"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/articles/01_data_acquisition.html","id":"file-type-distribution","dir":"Articles","previous_headings":"S3 Bucket Status","what":"File Type Distribution","title":"01. Data Acquisition & Status","text":"","code":"manifest_df %>%   mutate(extension = str_extract(file, \"\\\\.[^.]+$\")) %>%   count(extension) %>%   ggplot(aes(x = n, y = reorder(extension, n))) +    geom_col(fill = \"steelblue\") +    theme_minimal() +    labs(title = \"File Types in CoMMpass S3 Bucket\", x = \"Count\", y = \"Extension\")"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/articles/01_data_acquisition.html","id":"downloaded-samples","dir":"Articles","previous_headings":"","what":"Downloaded Samples","title":"01. Data Acquisition & Status","text":"downloaded small subset RNA-seq files initial testing.","code":"downloaded <- tar_read(rna_sample_files) print(basename(downloaded)) #> [1] \"d52cf834-2d8e-4893-b59a-41aad0e74120.rna_seq.augmented_star_gene_counts.tsv\" #> [2] \"701405d4-c4f1-4889-9b2d-1301e6d2db9b.rna_seq.augmented_star_gene_counts.tsv\" #> [3] \"8470552f-c335-41e7-8644-e27b84626632.rna_seq.augmented_star_gene_counts.tsv\""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/articles/01_data_acquisition.html","id":"clinical-data","dir":"Articles","previous_headings":"","what":"Clinical Data","title":"01. Data Acquisition & Status","text":"Clinical metadata retrieved GDC:","code":"clinical <- tar_read(clinical_data)  # Fix duplicate column names  names(clinical) <- make.unique(names(clinical))  cat(\"Clinical records:\", nrow(clinical), \"\\n\") #> Clinical records: 995    # Display a subset of columns  cols_to_show <- c(\"project\", \"submitter_id\", \"gender\", \"vital_status\")  # Ensure columns exist  cols_to_show <- intersect(cols_to_show, names(clinical))    knitr::kable(head(clinical[, cols_to_show, drop = FALSE]))"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"John Gavin. Author, maintainer.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Gavin J (2026). coMMpass: MMRF CoMMpass Data Analysis Pipeline. R package version 0.0.1.","code":"@Manual{,   title = {coMMpass: MMRF CoMMpass Data Analysis Pipeline},   author = {John Gavin},   year = {2026},   note = {R package version 0.0.1}, }"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"commpass","dir":"","previous_headings":"","what":"MMRF CoMMpass Data Analysis Pipeline","title":"MMRF CoMMpass Data Analysis Pipeline","text":"Reproducible analysis MMRF CoMMpass (Clinical Outcomes MM Personal Assessment Genetic Profile) multiple myeloma study data using R Nix.","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"MMRF CoMMpass Data Analysis Pipeline","text":"CoMMpass study landmark longitudinal genomic-clinical study 1,143 newly diagnosed multiple myeloma patients collected 2011-2016 8-year follow-. project provides: Reproducible Nix environment required R/Bioconductor packages Analysis workflows RNA-seq, single-cell, survival analysis Direct access CoMMpass data via AWS S3, GDC, MMRF Researcher Gateway","code":""},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"quick-start","dir":"","previous_headings":"Usage","what":"Quick Start","title":"MMRF CoMMpass Data Analysis Pipeline","text":"","code":"# Make executable and run chmod +x default.sh ./default.sh  # Or with caffeinate for long builds caffeinate -i ./default.sh"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"what-happens","dir":"","previous_headings":"Usage","what":"What Happens","title":"MMRF CoMMpass Data Analysis Pipeline","text":"default.sh checks default_dev.nix needs regeneration Sources package definitions R/dev/nix/packages.R Calls rix::rix() generate default_dev.nix Builds Nix environment nix-build Creates GC root symlink (prevents garbage collection) Enters interactive shell packages","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"in-the-nix-shell","dir":"","previous_headings":"Usage","what":"In the Nix Shell","title":"MMRF CoMMpass Data Analysis Pipeline","text":"","code":"# List CoMMpass S3 bucket (no credentials needed) aws s3 ls --no-sign-request s3://gdc-mmrf-commpass-phs000748-2-open/  # Start R R  # In R: library(TCGAbiolinks) query <- GDCquery(project = \"MMRF-COMMPASS\", ...)"},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"aws-s3-easiest---no-account-required","dir":"","previous_headings":"Data Access","what":"AWS S3 (Easiest - No Account Required)","title":"MMRF CoMMpass Data Analysis Pipeline","text":"","code":"# List available files aws s3 ls --no-sign-request s3://gdc-mmrf-commpass-phs000748-2-open/  # Download directly aws s3 cp --no-sign-request \\   s3://gdc-mmrf-commpass-phs000748-2-open/path/to/file.tsv \\   ./data/"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"tcgabiolinks-recommended-r-package","dir":"","previous_headings":"Data Access","what":"TCGAbiolinks (Recommended R Package)","title":"MMRF CoMMpass Data Analysis Pipeline","text":"","code":"library(TCGAbiolinks)  query <- GDCquery(   project = \"MMRF-COMMPASS\",   data.category = \"Transcriptome Profiling\",   data.type = \"Gene Expression Quantification\",   workflow.type = \"STAR - Counts\" )  GDCdownload(query) data <- GDCprepare(query)"},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"project-structure","dir":"","previous_headings":"","what":"Project Structure","title":"MMRF CoMMpass Data Analysis Pipeline","text":"","code":"coMMpass/ â”œâ”€â”€ README.md                    # This file â”œâ”€â”€ PLAN_CoMMpass_Analysis.md    # Detailed analysis plan â”œâ”€â”€ default.sh                   # Nix environment setup â”œâ”€â”€ default.R                    # rix configuration â”œâ”€â”€ R/ â”‚   â””â”€â”€ dev/nix/ â”‚       â””â”€â”€ packages.R           # Package definitions â”œâ”€â”€ vignettes/                   # Quarto analysis documents â””â”€â”€ data/                        # Downloaded data (gitignored)"},{"path":[]},{"path":[]},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"data-portals","dir":"","previous_headings":"Key References","what":"Data Portals","title":"MMRF CoMMpass Data Analysis Pipeline","text":"GDC Data Portal - 995 cases, 34,109 files AWS Open Data Registry MMRF Researcher Gateway","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"papers","dir":"","previous_headings":"Key References","what":"Papers","title":"MMRF CoMMpass Data Analysis Pipeline","text":"MMRFBiolinks (Briefings Bioinformatics 2021) Mount Sinai Immune Cell Atlas","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"requirements","dir":"","previous_headings":"","what":"Requirements","title":"MMRF CoMMpass Data Analysis Pipeline","text":"Nix package manager Cachix (optional, faster builds)","code":"# Install cachix for faster builds nix-env -iA cachix -f https://cachix.org/api/v1/install cachix use rstats-on-nix"},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"MMRF CoMMpass Data Analysis Pipeline","text":"MIT","code":""},{"path":"https://JohnGavin.github.io/llm/proj/data/coMMpass/prompt_commpass_data.html","id":null,"dir":"","previous_headings":"","what":"Data","title":"Data","text":"packages analyse kind data https://github.com/tgen/MMRF_CoMMpass 995 Cases 34,109 Files 55 Annotations","code":""}]
